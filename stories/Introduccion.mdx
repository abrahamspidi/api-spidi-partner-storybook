import { Meta } from '@storybook/blocks';

<Meta title="Introduction" />

# **API de SPIDI: Gu√≠a de Integraci√≥n** 

Gracias por interesarte en integrar SPIDI a tu aplicaci√≥n o plataforma. Aqu√≠ encontrar√°s todo lo que necesitas para empezar a recibir pagos de forma r√°pida, segura y simple, usando nuestra API.

Sabemos que cada producto es distinto, por eso dise√±amos SPIDI para adaptarse a distintos tipos de integraci√≥n. En esta gu√≠a te explicamos las tres formas principales de iniciar y procesar pagos con SPIDI, sus flujos t√©cnicos y c√≥mo monitorear cada transacci√≥n de manera eficiente. 

Tanto si est√°s desarrollando una app, un sitio web o simplemente necesitas compartir un enlace de pago, esta documentaci√≥n est√° pensada para acompa√±arte paso a paso en ese proceso.

## **Importante: tres formas distintas de integrar pagos con SPIDI**

Aunque todas usan la misma API, SPIDI ofrece **tres formas diferentes** de iniciar y procesar pagos. Cada una tiene particularidades en el flujo, el retorno del usuario y la forma de monitorear el estado del pago.

### **Las tres formas de integraci√≥n:**

1. üñ•Ô∏è **Bot√≥n de pago para aplicaciones web**  
    Cuando el usuario realiza el pago desde tu sitio web [(ver documentaci√≥n).](/docs/api-sesion-boton-de-pago-0-resumen--docs)

2. üì± **Bot√≥n de pago para aplicaciones m√≥viles**  
    Cuando el pago ocurre dentro de tu app m√≥vil *(En desarrollo - pr√≥ximamente)*

3. üîó **Enlace de pago**  
    Cuando quieres generar un link para compartir por email, WhatsApp, SMS u otros canales. Ideal para pagos asincr√≥nicos, fuera de tu aplicaci√≥n [(ver documentaci√≥n).](/{{baseUrl}}/?path=/docs/api-sesi√≥n-solicitud-pago-1-crear-sesi√≥n-b--docs)

* ***NOTA: Para Agosto 2025 s√≥lo est√° disponible la integraci√≥n mediante el Bot√≥n de pago.***  

### 

### **Todos los flujos tienen una base com√∫n:**

### **üßæ ¬øQu√© tienen en com√∫n?**

* Todas se basan en la **creaci√≥n de una sesi√≥n de pago** mediante la API.  
* El **pago siempre ocurre en la p√°gina de SPIDI**, donde el cliente ver√° una interfaz segura, clara y vinculada visualmente con tu aplicaci√≥n.  
* Puedes usar **webhooks**, **redirecciones** y **consultas de estado** para monitorear cada sesi√≥n.  
* **El comercio o usuario de SPIDI siempre recibe autom√°ticamente el pago en Bol√≠vares**, sin importar si el cliente paga con su cuenta bancaria en Bs o con criptomonedas.  
* Cada flujo tiene sus propias particularidades t√©cnicas, que explicamos por separado.

### **¬øPor qu√© diferenciamos entre Botones de pago en apps web y m√≥viles?**

Hacemos una distinci√≥n entre aplicaciones web y m√≥viles porque, aunque ambas utilizan botones de pago, tienen diferencias t√©cnicas importantes:

<table>
<thead>
<tr>
<th><strong>Aspecto</strong></th>
<th><strong>App Web</strong></th>
<th><strong>App M√≥vil</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Redirecci√≥n</strong></td>
<td><b><i>window.location.href</i></b> abre SPIDI en la misma pesta√±a</td>
<td>Se abre un WebView moderno</td>
</tr>
<tr>
<td><strong>Retorno del usuario</strong></td>
<td>Autom√°tico con <b><i>success_url</i></b> y <b><i>failure_url</i></b></td>
<td>Requiere <strong>deeplink</strong> o detecci√≥n manual de cambios de URL</td>
</tr>
<tr>
<td><strong>Entorno del usuario</strong></td>
<td>Pesta√±a del navegador</td>
<td>WebView controlado dentro de la app</td>
</tr>
<tr>
<td><strong>Experiencia de integraci√≥n</strong></td>
<td>Flujo m√°s directo, con menos c√≥digo adicional</td>
<td>Requiere l√≥gica adicional para retornar el control</td>
</tr>
</tbody>
</table>

Por eso, hay una gu√≠a espec√≠fica para cada uno, con recomendaciones t√©cnicas adaptadas.


* ***Nota: para agosto 2025 los enlaces de pago a√∫n no est√°n disponibles.***


## **Enlace de pago en SPIDI: c√≥mo, cu√°ndo y por qu√© usarlo**

### **Caracter√≠sticas clave de los Enlaces de Pago**

* **No requiere que el cliente est√© dentro de tu app**  
   El enlace puede compartirse por cualquier canal (WhatsApp, email, redes sociales) y abrirse desde cualquier navegador.

* **No caduca autom√°ticamente**  
   El enlace permanece activo hasta que lo canceles por API. Incluso si el cliente intenta pagar y falla, puede **reintentarlo m√°s tarde** con el mismo enlace.

* **Puede pagarse en cualquier momento**  
   El destinatario del enlace puede abrir y pagar el enlace d√≠as despu√©s de recibirlo.

* **Monto indexado a USD, EUR, COL (opcional)**  
   Puedes definir el monto en d√≥lares, euros, pesos colombianos y SPIDI calcular√° autom√°ticamente su equivalente en bol√≠vares al momento del pago. As√≠, no importa si el pago ocurre m√°s tarde: **el valor en USD se mantiene**.

### **üîÅ Casos de uso comunes:**

* Suscripciones y pagos recurrentes  
* Recordatorios de pago o deudas pendientes  
* Facturas personalizadas o pedidos especiales

### **Comparaci√≥n: Bot√≥n de Pago vs Enlace de Pago**

<table>
<thead>
<tr>
<th>Caracter√≠stica</th>
<th>Bot√≥n de Pago</th>
<th>Enlace de Pago (v√≠a API)</th>
</tr>
</thead>
<tbody>
<tr>
<td>üåê <strong>Uso t√≠pico</strong></td>
<td>Se integra dentro de una app o sitio web</td>
<td>Se comparte por correo, WhatsApp, SMS, etc.</td>
</tr>
<tr>
<td>üîó <strong>Generaci√≥n del enlace</strong></td>
<td>Se crea por API <strong>en el momento del clic del usuario</strong></td>
<td>Se crea por API <strong>cuando deseen</strong></td>
</tr>
<tr>
<td>‚è∞ <strong>Tiempo de vida</strong></td>
<td>Corto: expira a los <strong>10 minutos</strong> desde su creaci√≥n</td>
<td>No expira, solo se expira por API</td>
</tr>
<tr>
<td>üîÑ <strong>Interactividad</strong></td>
<td>El usuario <strong>es redirigido autom√°ticamente</strong> desde la app</td>
<td>El usuario <strong>hace clic en un link recibido</strong>, no hay app</td>
</tr>
<tr>
<td>üí¨ <strong>Ideal para</strong></td>
<td>Checkouts en apps, compras en l√≠nea</td>
<td>Cobros asincr√≥nicos, recordatorios, links en facturas</td>
</tr>
<tr>
<td>üîí <strong>Contexto t√©cnico</strong></td>
<td>Requiere frontend (Web o App) que maneje sesi√≥n y redirecciones</td>
<td>Requiere solo backend para generar y entregar el link</td>
</tr>
<tr>
<td>üíñ <strong>Gesti√≥n del estado del pago</strong></td>
<td>Requiere redireccionamiento + validaci√≥n por API o webhook</td>
<td>Se valida igual: v√≠a webhook o consultas al endpoint</td>
</tr>
<tr>
<td>üîß <strong>Implementaci√≥n t√©cnica</strong></td>
<td>Necesita l√≥gica de integraci√≥n en frontend + backend</td>
<td>Solo requiere integraci√≥n backend (creaci√≥n, validaci√≥n, webhook)</td>
</tr>
<tr>
<td>üåç <strong>D√≥nde se ejecuta el pago</strong></td>
<td>Dentro de la app o web, usando WebView o navegador controlado</td>
<td>En el navegador del cliente, externo a tu sistema</td>
</tr>
</tbody>
</table>



